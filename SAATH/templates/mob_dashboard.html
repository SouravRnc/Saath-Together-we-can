<!DOCTYPE html>
<html>
<head>
	

		<script type="text/javascript">
		function updateScroll(){
    		var element = document.getElementById("all_don_req");
    		element.scrollTop = element.scrollHeight;
		}
		</script>


		<script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
		<script>
  		// Initialize Firebase
  		var config = {
    	apiKey: "AIzaSyBypGEylbI-CmyR6VWObQdtwwX-epET0A4",
    	authDomain: "saath-ee442.firebaseapp.com",
    	databaseURL: "https://saath-ee442.firebaseio.com",
    	projectId: "saath-ee442",
    	storageBucket: "gs://saath-ee442.appspot.com",
   		messagingSenderId: "964798793282"
  	};
  	firebase.initializeApp(config);

  	var database = firebase.database();



	window.onload = function(){
	//have to make it grouped .. so getting email-msg combination is imp..
	var messageRef = database.ref('/don_mob_db');
	//var hr = document.createElement("<hr>");
	var i=1;
	var temp1,temp2;
	messageRef.on('child_added', function(snapshot)
	{
      //Do something with the data
      	snapshot.forEach(function(childSnapshot) {
      	var childData = childSnapshot.val();
  		var div1 = document.createElement('div');
      	var div2 = document.createElement('div');
      	var div3 = document.createElement('div');
      	var div4 = document.createElement('div');

	  	if(i%3==1){

	  		div1.textContent="email: "+childData;
	  		div1.style.padding="20px";
	  		div1.style.color="red";
	  		document.getElementById("all_don_req").appendChild(div1);	
	  	}

	  	if(i%3==2){
	  		div2.textContent="quantity: "+childData;
	  		div2.style.padding="20px";
	  		div2.style.color="green";
	  		document.getElementById("all_don_req").appendChild(div2);	
	  		  		
	  	}

		if(i%3==0){
	  		div3.textContent="Type of Donation: "+childData;
	  		div3.style.padding="20px";
	  		div3.style.color="green";
	  		document.getElementById("all_don_req").appendChild(div3);

	  		var btn=document.createElement('input')
	  		btn.type="button";
	  		btn.value="ACCEPT";
	  		btn.onclick=function(){
	  			confirm_fun();
	  		}
	  		div4.appendChild(btn);
	  		div4.style.borderBottom = "2px solid black"
	  		document.getElementById("all_don_req").appendChild(div4);

	  	}
		
		i=i+1;
	  	updateScroll();
  	});

	  
	  		
	  		
 });

	

}


function confirm_fun() {
	var con = confirm("CONFIRM PICKUP?");
	if(con == true){
		
	}
	else{
		
	}
}

</script>








	<script type="text/javascript">
		function mob_go_profile() {
			// body...
			window.location.replace("http://192.168.42.167:8000/mob_profile")
		}
		function mob_go_contri() {
			// body...
			window.location.replace("http://192.168.42.167:8000/mob_contri")
		}
		// function mob_go_find() {
		// 	// body...
		// 	window.location.replace("http://192.168.42.118:8000/mob_find")
		// }
		function mob_go_chat() {
			// body...
			window.location.replace("http://192.168.42.167:8000/chat")
		}
		function mob_go_contact() {
			// body...
			window.location.replace("http://192.168.42.167:8000/contact_us")
		}

	</script>

	
	<style type="text/css">
		.top_menus{
			margin-top: 10px;
			height: 50px;
			font-size: 25px;
			width: 100%;
		}

		.top_menus_table{
			width: 100%;
			border: 4px solid black;
			/*padding: 5px;*/
			border-radius: 25%;
		}

		#all_don_req{
			width: 70%;
			margin-top: 50px;
			border: 2px solid black;
			color: black;
			border-radius: 10px;
			text-align: left;
			padding: 10px;
			float: right;

		}

		th{
			padding: 15px 25px;
		   	font-size: 24px;
  			text-align: center;
  			cursor: pointer;
  			outline: none;
  			color: #fff;
  			background-color: #4CAF50;
  			border: none;
  			border-radius: 15px;
  			box-shadow: 0 9px #999;
  			width: 10%;
		}

		th:hover{
			background-color: #3e8e41
		}

		th:active{
			background-color: #3e8e41;
  			box-shadow: 0 5px #666;
  			transform: translateY(4px);	
		}

		.user_info_area{
			color: white;

		}

		a{
			color: black;
		}

		a:hover{
			color: red;
		}

		#user_image{
			border-radius: 50%;
			margin-left: 80px;
			height: 100px;
			width: 100px;
			border: 1px solid black;
		}

		.column1{
			margin-top: 50px;
			width: 20%;
			height: 100%;
			background-color: #dddddd;
			float: left;
		}



		#col1_settings{
			float: left;
			border: 1px solid black;
			color: black;
		}

		#col1_logout{
			float: right;
			border: 1px solid black;
			color: black;
		}

		/*.vert_line{
			border-left: 5px solid black;
			height: 500px;
			margin-left: 275px;
			margin-top: 5px;
		}*/

		.horz_line{
			border-top: 5px solid black;
			margin-top: 50px;
			width: 100%;
		}

		.top_img{
			border-radius: 10%;
		}

	</style>
	<title>Home_Page</title>
</head>
<body>
	<div class="top_img"><img src="/static/banner.jpg" height="200px" width="100%"></div>

	<div class="top_menus">
		<table id="top_menus_table">
			<tr>
				<th name="profile" id="profile" onclick="mob_go_profile()">Profile</th>
				<th name="contributions" id="contributions" onclick="mob_go_contri()">My Contributions</th>
				<!-- <th name="don_around" id="don_around" onclick="mob_go_find()">Find Donators</th> -->
				<th name="chat" id="chat" onclick="mob_go_chat()">Chat</th>
				<th name="contact_us" id="contact_us" onclick="mob_go_contact()">Contact Us</th>
				
			</tr>
		</table>
	</div>
	<div class="horz_line"></div>
	<div class="columns">
		<div class="column1">
			<p style="left: 10px;">WELCOME: 
			<span id="user_email">
				{% for key in result %}
				{{ key[0] }}
				{% endfor %}
			</span>
			</p>
			<div class="user_info_area">
				<img align="center" id="user_image" src="/static/user-image.jpg">
				<br>
				<br>
				<a id="col1_settings" href="http://192.168.42.167:8000/mob_acc_settings">Account Settings</a>
				<a id="col1_logout" href="">Edit Info</a>
			</div>
			<br>
			<br>
			<hr>
			<a id="offers" href="">Offers</a>
			<hr>
			<a id="transactions" href="">Transactions</a>
			<hr>
			<a id="orders" href="">My Orders</a>
				<hr>
			<a id="whishlist" href="">My Cart</a>
			<hr>
			<a href="http://192.168.42.167:8000/tologin">Logout</a>
		</div>
		<div align="center">DONATORS HAVE PLACED THESE REQUETS..</div>
		<div id="all_don_req" style="overflow-y: scroll; height:400px; ">
		
	</div>
</div>
</body>
</html>